{"version":3,"sources":["index.js"],"names":["Resources","useState","data","setData","useEffect","fetch","then","res","json","catch","console","error","legend","taxonomy_legend","resources","map","resource","milliseconds","timestamp","dateString","Date","toLocaleDateString","key","nid","title","className","dangerouslySetInnerHTML","__html","body","href","date","links","link","btoa","url","target","attributes","files","file","fid","language","filemime","fileSize","filesize","base","taxonomies","taxon","vid","machine_name","terms","tid","termData","name","App","JavascriptTimeAgo","addLocale","en","ReactDOM","render","document","getElementById"],"mappings":"4MAWA,SAASA,IAAa,IAAD,EACOC,mBAAS,MADhB,mBACVC,EADU,KACJC,EADI,KASjB,GAPAC,qBAAU,WACNC,MAAM,mEACDC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,KAAKH,GACLM,MAAMC,QAAQC,SACpB,IAECT,EAAM,CACN,IAAMU,EAASV,EAAKW,gBAGpB,OACI,6BACI,yCACCX,EAAKY,UAAUC,KAAI,SAACC,GAEjB,IAAMC,EAAoC,IAArBD,EAASE,UACxBC,EAAa,IAAIC,KAAKH,GAAcI,qBAC1C,OACI,yBAAKC,IAAKN,EAASO,KACf,4BAAKP,EAASQ,OACd,yBAAKC,UAAU,OAAOC,wBAAyB,CAACC,OAAQX,EAASY,QAEjE,6BACSZ,EAASY,MAElB,4BACI,oCAAS,uBAAGC,KAAM,yBAA2Bb,EAASO,IAAM,SAAUP,EAASO,MAE/E,8CACoBJ,EADpB,KACiC,kBAAC,IAAD,CAC7BW,KAAMb,IAFV,KAIA,qCAEI,4BACKD,EAASe,OACVf,EAASe,MAAMhB,KAAI,SAACiB,GAAD,OACf,wBAAIV,IAAKW,KAAKD,EAAKE,MACf,uBAAGL,KAAMG,EAAKE,IACXC,OAAQH,EAAKI,WAAWD,QAAU,SAAUH,EAAKR,aAKpE,qCAEI,4BACKR,EAASqB,OACVrB,EAASqB,MAAMtB,KAAI,SAACuB,GAAD,OACf,wBAAIhB,IAAKgB,EAAKC,KACV,uBAAGV,KAAMS,EAAKJ,KAAMI,EAAKE,UAD7B,IAC4CF,EAAKG,SAAU,IACtDC,IAASJ,EAAKK,SAAU,CAACC,KAAM,WAMhD,0CAEK5B,EAAS6B,YACV7B,EAAS6B,WAAW9B,KAAI,SAAC+B,GACrB,OACIA,EAAMC,IAAM,GACR,wBAAIzB,IAAKwB,EAAMC,KACX,4BAAKD,EAAMC,IAAX,KAAkBnC,EAAOkC,EAAMC,KAAKC,aAApC,KACA,4BACKF,EAAMG,MAAMlC,KAAI,SAACmC,GACd,IAAMC,EAAWvC,EAAOkC,EAAMC,KAAKE,MAAMC,GACzC,OACI,wBAAI5B,IAAK4B,GAAMA,EAAf,KAAsBC,GAAYA,EAASC,qBAgBnG,OAAO,KAIf,SAASC,IACL,OAAO,kBAACrD,EAAD,MA/FXsD,IAAkBC,UAAUC,GAkG5BC,IAASC,OAAO,kBAACL,EAAD,MAAQM,SAASC,eAAe,U","file":"static/js/main.6da2ef13.chunk.js","sourcesContent":["import \"./index.css\";\n\nimport React, {useState, useEffect} from \"react\";\nimport ReactDOM from \"react-dom\";\nimport JavascriptTimeAgo from \"javascript-time-ago\";\nimport en from \"javascript-time-ago/locale/en\";\nimport ReactTimeAgo from \"react-time-ago\";\nimport fileSize from \"filesize\";\n\nJavascriptTimeAgo.addLocale(en);\n\nfunction Resources() {\n    const [data, setData] = useState(null);\n    useEffect(() => {\n        fetch(`https://tfm-apiv2-field-museum1.pantheonsite.io/apiv2/resources`)\n            .then((res) => res.json())\n            .then(setData)\n            .catch(console.error);\n    }, []);\n\n    if (data) {\n        const legend = data.taxonomy_legend;\n\n\n        return (\n            <div>\n                <h1>Resources</h1>\n                {data.resources.map((resource) => {\n\n                    const milliseconds = resource.timestamp * 1000;\n                    const dateString = new Date(milliseconds).toLocaleDateString();\n                    return (\n                        <div key={resource.nid}>\n                            <h2>{resource.title}</h2>\n                            <div className=\"body\" dangerouslySetInnerHTML={{__html: resource.body}}>\n                            </div>\n                            <pre>\n                                    {resource.body}\n                            </pre>\n                            <ul>\n                                <li>NID: <a href={\"http://localhost/node/\" + resource.nid + \"/edit\"}>{resource.nid}</a>\n                                </li>\n                                <li>\n                                    Last modified: {dateString} (<ReactTimeAgo\n                                    date={milliseconds}/>)\n                                </li>\n                                <li>\n                                    Links:\n                                    <ul>\n                                        {resource.links &&\n                                        resource.links.map((link) => (\n                                            <li key={btoa(link.url)}>\n                                                <a href={link.url}\n                                                   target={link.attributes.target || '_self'}>{link.title}</a>\n                                            </li>\n                                        ))}\n                                    </ul>\n                                </li>\n                                <li>\n                                    Files:\n                                    <ul>\n                                        {resource.files &&\n                                        resource.files.map((file) => (\n                                            <li key={file.fid}>\n                                                <a href={file.url}>{file.language}</a> {file.filemime}{\" \"}\n                                                {fileSize(file.filesize, {base: 10})}\n                                            </li>\n                                        ))}\n                                    </ul>\n                                </li>\n\n                                <li>\n                                    Taxonomies:\n                                    {resource.taxonomies &&\n                                    resource.taxonomies.map((taxon) => {\n                                        return (\n                                            taxon.vid > 0 && (\n                                                <ul key={taxon.vid}>\n                                                    <li>{taxon.vid}: {legend[taxon.vid].machine_name} </li>\n                                                    <ul>\n                                                        {taxon.terms.map((tid) => {\n                                                            const termData = legend[taxon.vid].terms[tid];\n                                                            return (\n                                                                <li key={tid}>{tid}: {termData && termData.name}</li>\n                                                            );\n                                                        })}\n                                                    </ul>\n                                                </ul>\n                                            )\n                                        );\n                                    })}\n                                </li>\n                            </ul>\n                        </div>\n                    )\n                })}\n            </div>\n        );\n    } else {\n        return null;\n    }\n}\n\nfunction App() {\n    return <Resources/>;\n}\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n"],"sourceRoot":""}